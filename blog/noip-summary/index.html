<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="A Blog About Information and Technology">
  <meta name="keyword" content="Computer">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      NOIp2011-2017æ€»ç»“ | æˆ‘æœ‰æ˜•æƒ³æ³• | Peter_Matthewçš„åšå®¢
    
  </title>
  <link href="/css/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/plugins/nprogress/nprogress.min.css" rel="stylesheet">
  <link href="/css/plugins/highlight.js/styles/tomorrow.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="/js/jquery/jquery.min.js"></script>
  <script src="/js/geopattern/geopattern.min.js"></script>
  <script src="/js/nprogress/nprogress.min.js"></script>
  <!-- <script src="//code.tidio.co/g6zn0ewvu9ieaw5pfegkodcp6eple7el.js" async></script> -->
  
  
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="/js/mathjax/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


  

    
<script src="/js/local-search.js"></script>


  <script src="/js/comment/av-min.js"></script>
  <!-- <script src='//unpkg.com/valine/dist/Valine.min.js'></script> -->
  <!-- <script src="//cdn.jsdelivr.net/npm/@waline/client"></script> -->
  <!-- <script src="/js/comment/Waline.min.js"></script> -->
  <script src="/js/walinev2/waline.js"></script>
  <link href="/js/walinev2/waline.css" rel='stylesheet' />
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="æˆ‘æœ‰æ˜•æƒ³æ³• | Peter_Matthewçš„åšå®¢" type="application/atom+xml">
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>Peter_Matthewçš„åšå®¢</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">ğŸ é¦–é¡µ</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">ğŸ”–æ ‡ç­¾</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">ğŸ—‚ï¸å½’æ¡£</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">ğŸ“‚é¡¹ç›®</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">ğŸ’ å…³äº</a>
          
        </li>
      
        <li class="list-item">
          
            <a target="_blank" rel="noopener" href="https://note.gh.zhangkai.xin/" class="item-link">ğŸ“•ç¬”è®°ğŸ”—</a>
          
        </li>
      
        <li class="list-item">
          
            <a target="_blank" rel="noopener" href="https://wiki.zhangkai.xin/" class="item-link">ğŸ“–WikiğŸ”—</a>
          
        </li>
      
      
        <li class="menu-item menu-item-search right-list">
    <a role="button" class="popup-trigger">
        <i class="fa fa-search fa-fw"></i>
    </a>
</li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">ğŸ é¦–é¡µ</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">ğŸ”–æ ‡ç­¾</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">ğŸ—‚ï¸å½’æ¡£</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">ğŸ“‚é¡¹ç›®</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">ğŸ’ å…³äº</a>
            
          </li>
        
          <li class="menu-item">
            
              <a target="_blank" rel="noopener" href="https://note.gh.zhangkai.xin/" class="menu-link">ğŸ“•ç¬”è®°ğŸ”—</a>
            
          </li>
        
          <li class="menu-item">
            
              <a target="_blank" rel="noopener" href="https://wiki.zhangkai.xin/" class="menu-link">ğŸ“–WikiğŸ”—</a>
            
          </li>
        
      </ul>
    </div>
    
      <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
            <span class="search-icon">
                <i class="fa fa-search"></i>
            </span>
            <div class="search-input-container">
                <input autocomplete="off" autocapitalize="off"
                    placeholder="è¯·è¾“å…¥å…³é”®è¯æ¥æœç´¢ã€‚" spellcheck="false"
                    type="search" class="search-input">
            </div>
            <span class="popup-btn-close">
                <i class="fa fa-times-circle"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>
    
  </div>
</header>

    <div id="article-banner">
  <h2>NOIp2011-2017æ€»ç»“</h2>
  <p class="post-date">2018-10-16</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
  
    <i class="fa fa-clock-o">æœ¬æ–‡å…±<span class="post-count">6.4k</span>å­—ï¼Œå¤§çº¦éœ€è¦é˜…è¯»<span class="post-count">30</span>åˆ†é’Ÿã€‚</i>
  
    <section class="markdown-content"><link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><h1 id="NOIp2011"><a href="#NOIp2011" class="headerlink" title="NOIp2011"></a>NOIp2011</h1><p>Link to Francis_nocoï¼ˆå­™å¯çš“ï¼‰</p>
<h1 id="NOIp2012"><a href="#NOIp2012" class="headerlink" title="NOIp2012"></a>NOIp2012</h1><h2 id="D1T1LuoguP1079-Vigenere-å¯†ç "><a href="#D1T1LuoguP1079-Vigenere-å¯†ç " class="headerlink" title="D1T1LuoguP1079:VigenÃ¨re å¯†ç "></a>D1T1<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1079">LuoguP1079</a>:VigenÃ¨re å¯†ç </h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸²åŠ å¯†åçš„å­—ç¬¦ä¸²å’Œä¸€ä¸²åŠ å¯†é’¥åŒ™ï¼Œç»™ä½ åŠ å¯†å‡½æ•°ï¼ˆä»¥è¡¨çš„æ–¹å¼ç»™å‡ºï¼‰ï¼Œæ±‚åŸå­—ç¬¦ä¸²ã€‚</p>
<h3 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>è¿™æ˜¯ä¸€é“å¾ˆæ°´çš„æ¨¡æ‹Ÿé¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å»ºä¸€å¼ è¡¨å¤§å°52$\times$52ï¼ˆæ³¨æ„å­—æ¯çš„å¤§å°å†™åªä¸åŸä¸²ä¸åŠ å¯†ä¸²æœ‰å…³ï¼‰æš´åŠ›æ¨¡æ‹Ÿã€‚ä½†æ˜¯ä½œä¸ºä¸€ä¸ª<del>ç ”ç©¶å­—ç¬¦ä¸²å¾ˆä¹…çš„</del>è’Ÿè’»ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™å¼ è¡¨çš„æ€§è´¨ï¼ˆå‡è®¾A-Zè¡¨ç¤º1-26ï¼Œé‚£ä¹ˆè¡¨ä¸Šçš„ç¬¬iè¡Œç¬¬jåˆ—çš„å€¼ä¸º(i+j-2)%26+1ï¼‰ï¼Œåæ¨åŠ å¯†ä¸²ä¸åŠ å¯†é’¥åŒ™çš„è¡¨çš„æ€§è´¨ï¼ˆå‡è®¾A-Zè¡¨ç¤º1-26ï¼Œé‚£ä¹ˆè¡¨ä¸Šçš„ç¬¬è¡Œç¬¬jåˆ—çš„å€¼ä¸º(j-i+26)%26+1ï¼‰ã€‚</p>
<h3 id="é¢˜ç›®ä»£ç "><a href="#é¢˜ç›®ä»£ç " class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">char</span> m[<span class="number">1005</span>],k[<span class="number">105</span>],c[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dxx</span><span class="params">(<span class="type">char</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=<span class="string">&#x27;a&#x27;</span>&amp;&amp;x&lt;=<span class="string">&#x27;z&#x27;</span>)<span class="keyword">return</span> <span class="string">&#x27;a&#x27;</span><span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=<span class="string">&#x27;A&#x27;</span>&amp;&amp;x&lt;=<span class="string">&#x27;Z&#x27;</span>)<span class="keyword">return</span> <span class="string">&#x27;A&#x27;</span><span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">R</span><span class="params">(<span class="type">int</span> m_i,<span class="type">int</span> k_i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (m[m_i]-<span class="built_in">dxx</span>(m[m_i])+k[k_i%<span class="built_in">strlen</span>(k)]-<span class="built_in">dxx</span>(k[k_i%<span class="built_in">strlen</span>(k)])<span class="number">-2</span>)%<span class="number">26</span>+<span class="number">1</span>+<span class="built_in">dxx</span>(m[m_i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">R_1</span><span class="params">(<span class="type">int</span> c_i,<span class="type">int</span> k_i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (c[c_i]-<span class="built_in">dxx</span>(c[c_i])-k[k_i%<span class="built_in">strlen</span>(k)]+<span class="built_in">dxx</span>(k[k_i%<span class="built_in">strlen</span>(k)])+<span class="number">26</span>)%<span class="number">26</span>+<span class="number">1</span>+<span class="built_in">dxx</span>(c[c_i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,k);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,c);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">strlen</span>(c);i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="built_in">R_1</span>(i,i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D1T2LuoguP1080-å›½ç‹æ¸¸æˆ"><a href="#D1T2LuoguP1080-å›½ç‹æ¸¸æˆ" class="headerlink" title="D1T2LuoguP1080:å›½ç‹æ¸¸æˆ"></a>D1T2<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1080">LuoguP1080</a>:å›½ç‹æ¸¸æˆ</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æœ‰1ä¸ªå›½ç‹nä¸ªå¤§è‡£ï¼Œæ¯äººå·¦å³æ‰‹é‡Œéƒ½æœ‰æ•°ï¼Œæ¯ä¸ªå¤§è‡£æ‹¿åˆ°çš„å€¼æ˜¯ä»–å‰é¢äººçš„å·¦æ‰‹å€¼çš„ç§¯ä¸ä»–å³æ‰‹å€¼çš„å•†ï¼Œä½ éœ€è¦å°†å¤§è‡£æ’åºç„¶åæŠŠå›½ç‹æ”¾åœ¨å¤§è‡£å‰é¢ï¼Œç„¶åæ±‚å¤§è‡£çš„å€¼çš„æœ€å¤§å€¼æœ€å°æ˜¯å¤šå°‘ã€‚</p>
<h3 id="é¢˜ç›®è§£æ-1"><a href="#é¢˜ç›®è§£æ-1" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>æœ¬é¢˜çš„å”¯ä¸€éš¾ç‚¹æ˜¯æ’åºå¤§è‡£ï¼Œå¦‚æœiå’Œjä¸¤ä¸ªå¤§è‡£ç›¸é‚»é‚£ä¹ˆiæ’åœ¨jå‰é¢çš„å¿…è¦æ¡ä»¶æ˜¯$total\times a[i]&#x2F;b[j]&lt;total\times a[j]&#x2F;b[i]$ï¼Œä¹Ÿå°±æ˜¯è¯´$a[i]\times b[i]&lt;a[j]\times b[j]$ã€‚<br>å…¶æ¬¡å°±æ˜¯æ³¨æ„é«˜ç²¾åº¦ä¸è¦å†™æµå¼è¾“å…¥è¾“å‡ºï¼Œå¦åˆ™ä¼šTLEã€‚</p>
<h3 id="é¢˜ç›®ä»£ç -1"><a href="#é¢˜ç›®ä»£ç -1" class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> now[<span class="number">20005</span>],sum[<span class="number">20005</span>],ans[<span class="number">20005</span>],add[<span class="number">20005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ren</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> a,b,c;</span><br><span class="line">&#125;r[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">gc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">char</span> buf[<span class="number">100000</span>],*p1=buf,*p2=buf;</span><br><span class="line">    <span class="keyword">return</span> p1==p2&amp;&amp;(p2=(p1=buf)+<span class="built_in">fread</span>(buf,<span class="number">1</span>,<span class="number">100000</span>,stdin),p1==p2)?EOF:*p1++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of__scan&gt;</span><br><span class="line"><span class="type">void</span> _scan(__Type_of__scan &amp;x)</span><br><span class="line">&#123;</span><br><span class="line">    __Type_of__scan f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="type">char</span> s=<span class="built_in">gc</span>();</span><br><span class="line">    <span class="keyword">while</span>(s&lt;<span class="string">&#x27;0&#x27;</span>||s&gt;<span class="string">&#x27;9&#x27;</span>)&#123;<span class="keyword">if</span>(s==<span class="string">&#x27;-&#x27;</span>)f=<span class="number">-1</span>;s=<span class="built_in">gc</span>();&#125;</span><br><span class="line">    <span class="keyword">while</span>(s&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;s&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">&#x27;0&#x27;</span>;s=<span class="built_in">gc</span>();&#125;</span><br><span class="line">    x*=f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> buf[<span class="number">100000</span>],*pp=buf;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pc</span><span class="params">(<span class="type">const</span> <span class="type">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pp-buf==<span class="number">100000</span>)<span class="built_in">fwrite</span>(buf,<span class="number">1</span>,<span class="number">100000</span>,stdout),pp=buf;</span><br><span class="line">    *pp++=c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of__print&gt;</span><br><span class="line"><span class="type">void</span> _print(__Type_of__print x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;<span class="built_in">pc</span>(<span class="string">&#x27;-&#x27;</span>);x=-x;&#125;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>)_print(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">pc</span>(x%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fsh</span><span class="params">()</span></span>&#123;<span class="built_in">fwrite</span>(buf,<span class="number">1</span>,pp-buf,stdout);pp=buf;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">times</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(add,<span class="number">0</span>,<span class="built_in">sizeof</span>(add));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=ans[<span class="number">0</span>];i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[i]=ans[i]*x;</span><br><span class="line">        add[i+<span class="number">1</span>]+=ans[i]/<span class="number">10</span>;</span><br><span class="line">        ans[i]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=ans[<span class="number">0</span>]+<span class="number">4</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[i]+=add[i];</span><br><span class="line">        <span class="keyword">if</span>(ans[i]&gt;=<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[i+<span class="number">1</span>]+=ans[i]/<span class="number">10</span>;</span><br><span class="line">            ans[i]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans[i]!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[<span class="number">0</span>]=<span class="built_in">max</span>(ans[<span class="number">0</span>],i);</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">divition</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(add,<span class="number">0</span>,<span class="built_in">sizeof</span>(add));</span><br><span class="line">    <span class="type">int</span> q=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=ans[<span class="number">0</span>];i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        q*=<span class="number">10</span>;</span><br><span class="line">        q+=ans[i];</span><br><span class="line">        add[i]=q/x;</span><br><span class="line">        <span class="keyword">if</span>(add[<span class="number">0</span>]==<span class="number">0</span> &amp;&amp; add[i]!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            add[<span class="number">0</span>]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        q%=x; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">compare</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(sum[<span class="number">0</span>]!=add[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">return</span> add[<span class="number">0</span>]&gt;sum[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=add[<span class="number">0</span>];i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">        <span class="keyword">if</span>(add[i]!=sum[i])</span><br><span class="line">            <span class="keyword">return</span> add[i]&gt;sum[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">cp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="built_in">sizeof</span>(sum));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=add[<span class="number">0</span>];i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        sum[i]=add[i];</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(ren a,ren b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.c&lt;b.c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    _scan(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        _scan(r[i].a),_scan(r[i].b);</span><br><span class="line">        r[i].c=r[i].a*r[i].b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(r+<span class="number">1</span>,r+n+<span class="number">1</span>,cmp);</span><br><span class="line">    ans[<span class="number">0</span>]=<span class="number">1</span>,ans[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">times</span>(r[i<span class="number">-1</span>].a);</span><br><span class="line">        <span class="built_in">divition</span>(r[i].b);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">compare</span>())</span><br><span class="line">            <span class="built_in">cp</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=sum[<span class="number">0</span>];i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">        _print(sum[i]);</span><br><span class="line">    <span class="built_in">fsh</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h2 id="D1T3LuoguP1081-å¼€è½¦æ—…è¡Œ"><a href="#D1T3LuoguP1081-å¼€è½¦æ—…è¡Œ" class="headerlink" title="D1T3LuoguP1081:å¼€è½¦æ—…è¡Œ"></a>D1T3<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1081">LuoguP1081</a>:å¼€è½¦æ—…è¡Œ</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>å°Aå’Œå°Bå†³å®šåˆ©ç”¨å‡æœŸå¤–å‡ºæ—…è¡Œï¼Œä»–ä»¬å°†æƒ³å»çš„åŸå¸‚ä»1åˆ°Nç¼–å·ï¼Œä¸”ç¼–å·è¾ƒå°çš„åŸå¸‚åœ¨ç¼–å·è¾ƒå¤§çš„åŸå¸‚çš„è¥¿è¾¹ï¼Œå·²çŸ¥å„ä¸ªåŸå¸‚çš„æµ·æ‹”é«˜åº¦äº’ä¸ç›¸åŒï¼Œè®°åŸå¸‚içš„æµ·æ‹”é«˜åº¦ä¸ºHiï¼ŒåŸå¸‚iå’ŒåŸå¸‚jä¹‹é—´çš„è·ç¦»d[i,j]æ°å¥½æ˜¯è¿™ä¸¤ä¸ªåŸå¸‚æµ·æ‹”é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ï¼Œå³d[i,j]&#x3D;|Hi-Hj|ã€‚</p>
<p>æ—…è¡Œè¿‡ç¨‹ä¸­ï¼Œå°Aå’Œå°Bè½®æµå¼€è½¦ï¼Œç¬¬ä¸€å¤©å°Aå¼€è½¦ï¼Œä¹‹åæ¯å¤©è½®æ¢ä¸€æ¬¡ã€‚ä»–ä»¬è®¡åˆ’é€‰æ‹©ä¸€ä¸ªåŸå¸‚Sä½œä¸ºèµ·ç‚¹ï¼Œä¸€ç›´å‘ä¸œè¡Œé©¶ï¼Œå¹¶ä¸”æœ€å¤šè¡Œé©¶Xå…¬é‡Œå°±ç»“æŸæ—…è¡Œã€‚å°Aå’Œå°Bçš„é©¾é©¶é£æ ¼ä¸åŒï¼Œå°Bæ€»æ˜¯æ²¿ç€å‰è¿›æ–¹å‘é€‰æ‹©ä¸€ä¸ªæœ€è¿‘çš„åŸå¸‚ä½œä¸ºç›®çš„åœ°ï¼Œè€Œå°Aæ€»æ˜¯æ²¿ç€å‰è¿›æ–¹å‘é€‰æ‹©ç¬¬äºŒè¿‘çš„åŸå¸‚ä½œä¸ºç›®çš„åœ°ï¼ˆæ³¨æ„ï¼šæœ¬é¢˜ä¸­å¦‚æœå½“å‰åŸå¸‚åˆ°ä¸¤ä¸ªåŸå¸‚çš„è·ç¦»ç›¸åŒï¼Œåˆ™è®¤ä¸ºç¦»æµ·æ‹”ä½çš„é‚£ä¸ªåŸå¸‚æ›´è¿‘ï¼‰ã€‚å¦‚æœå…¶ä¸­ä»»ä½•ä¸€äººæ— æ³•æŒ‰ç…§è‡ªå·±çš„åŸåˆ™é€‰æ‹©ç›®çš„åŸå¸‚ï¼Œæˆ–è€…åˆ°è¾¾ç›®çš„åœ°ä¼šä½¿è¡Œé©¶çš„æ€»è·ç¦»è¶…å‡ºXå…¬é‡Œï¼Œä»–ä»¬å°±ä¼šç»“æŸæ—…è¡Œã€‚</p>
<p>åœ¨å¯ç¨‹ä¹‹å‰ï¼Œå°Aæƒ³çŸ¥é“ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¯¹äºä¸€ä¸ªç»™å®šçš„X&#x3D;X0ï¼Œä»å“ªä¸€ä¸ªåŸå¸‚å‡ºå‘ï¼Œå°Aå¼€è½¦è¡Œé©¶çš„è·¯ç¨‹æ€»æ•°ä¸å°Bè¡Œé©¶çš„è·¯ç¨‹æ€»æ•°çš„æ¯”å€¼æœ€å°ï¼ˆå¦‚æœå°Bçš„è¡Œé©¶è·¯ç¨‹ä¸º0ï¼Œæ­¤æ—¶çš„æ¯”å€¼å¯è§†ä¸ºæ— ç©·å¤§ï¼Œä¸”ä¸¤ä¸ªæ— ç©·å¤§è§†ä¸ºç›¸ç­‰ï¼‰ã€‚å¦‚æœä»å¤šä¸ªåŸå¸‚å‡ºå‘ï¼Œå°Aå¼€è½¦è¡Œé©¶çš„è·¯ç¨‹æ€»æ•°ä¸å°Bè¡Œé©¶çš„è·¯ç¨‹æ€»æ•°çš„æ¯”å€¼éƒ½æœ€å°ï¼Œåˆ™è¾“å‡ºæµ·æ‹”æœ€é«˜çš„é‚£ä¸ªåŸå¸‚ã€‚</li>
<li>å¯¹ä»»æ„ç»™å®šçš„X&#x3D;Xiå’Œå‡ºå‘åŸå¸‚Siï¼Œå°Aå¼€è½¦è¡Œé©¶çš„è·¯ç¨‹æ€»æ•°ä»¥åŠå°Bè¡Œé©¶çš„è·¯ç¨‹æ€»æ•°ã€‚</li>
</ol>
<h3 id="é¢˜ç›®è§£æ-2"><a href="#é¢˜ç›®è§£æ-2" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>è¿™é¢˜å»ºè®®å…ˆæŠŠæš´åŠ›æ¨¡æ‹Ÿçš„70åˆ†åšå‡ºæ¥è€Œä¸æ˜¯ç›´æ¥æ‰“æ­£è§£ï¼Œè€ƒåœºä¸Šå¦‚æœæƒ³ä¸åˆ°ç”¨å€å¢ï¼Œæš´åŠ›æ‹¿70åˆ†ä¹Ÿæ˜¯å¾ˆå¯è§‚çš„</p>
<p>é‚£ä¹ˆå…ˆè¯´è¯´æš´åŠ›æ€è·¯:<br>1)é¢„å¤„ç†</p>
<p>æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥åšä¸‹é¢è¿™äº›äº‹æƒ…:</p>
<p>c1[i]è¡¨ç¤ºbåœ¨ié€‰æ‹©çš„ä¸‹ä¸€ä¸ªåŸå¸‚ï¼ˆä¹Ÿå°±æ˜¯åœ¨iä¸œè¾¹è·ç¦»iæœ€è¿‘çš„åŸå¸‚ï¼‰<br>c2[i]è¡¨ç¤ºaåœ¨ié€‰æ‹©çš„ä¸‹ä¸€ä¸ªåŸå¸‚ï¼ˆä¹Ÿå°±æ˜¯åœ¨iä¸œè¾¹è·ç¦»iç¬¬äºŒè¿‘çš„åŸå¸‚ï¼‰<br>dist1[i]è¡¨ç¤ºbä»iåˆ°c1[i]çš„è·¯ç¨‹<br>dist2[i]è¡¨ç¤ºaä»iåˆ°c2[i]çš„è·¯ç¨‹  </p>
<p>æˆ‘ä»¬å¯ä»¥ä»ç¬¬n-1ä¸ªåŸå¸‚æšä¸¾åˆ°ç¬¬1ä¸ªåŸå¸‚ï¼Œåœ¨ç¬¬i+1ä¸ªåŸå¸‚åˆ°ç¬¬nä¸ªåŸå¸‚ä¹‹é—´</p>
<p>2)å¯¹äºä¸¤ä¸ªé—®é¢˜ï¼Œåˆ†åˆ«æ¨¡æ‹Ÿæ±‚è§£</p>
<p>ç”±äºa bæ˜¯è½®æµé©¾é©¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå˜é‡turnè®°å½•å½“å‰æ˜¯è°åœ¨é©¾é©¶ï¼Œturnä¸º0æ—¶aé©¾é©¶ï¼Œä¸º1æ—¶bé©¾é©¶ï¼Œç„¶åæ ¹æ®é¢˜æ„è®°å½•a båˆ†åˆ«èµ°è¿‡çš„è·¯ç¨‹ï¼Œåˆ¤æ–­æ€»è·¯ç¨‹æ˜¯å¦è¶…è¿‡é™åˆ¶ï¼Œæ¨¡æ‹Ÿå³å¯</p>
<p>å¾—åˆ†ï¼š70æš´åŠ›æ‰¾æœ€è¿‘å’Œç¬¬äºŒè¿‘ï¼Œå…·ä½“å®ç°çœ‹ä»£ç </p>
<p>æš´åŠ›æ‰“å®Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ­£è§£äº†</p>
<p>å…¶å®å¦‚æœç›´æ¥å‘Šè¯‰ä½ æ­£è§£å°±æ˜¯åœ¨æš´åŠ›çš„åŸºç¡€ä¸Šç”¨å€å¢å’ŒåŒå‘é“¾è¡¨ä¼˜åŒ–ä¸€ä¸‹ï¼Œè‡ªå·±æƒ³æƒ³ï¼Œæ…¢æ…¢è°ƒä¹Ÿèƒ½å¼„å‡ºæ¥ï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®å…ˆè‡ªå·±æ€è€ƒä¸€ä¸‹å¦‚ä½•ç”¨å€å¢å»ä¼˜åŒ–ï¼Œç„¶åæƒ³æƒ³å¦‚ä½•ç”¨åŒå‘é“¾è¡¨å»åˆå§‹åŒ–</p>
<p>1)è¿™é‡Œå…ˆè¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆç”¨å€å¢</p>
<p>æ˜¾ç„¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªç‚¹iï¼Œaçš„é€‰æ‹©æ˜¯å”¯ä¸€çš„ï¼Œbçš„é€‰æ‹©ä¹Ÿæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æœ€ä¼˜è§£ï¼Œå¯ä»¥ç”¨å€å¢</p>
<p>2)æ€ä¹ˆä½¿ç”¨åŒå‘é“¾è¡¨åˆå§‹åŒ–</p>
<p>é¦–å…ˆæŠŠæ‰€æœ‰åŸå¸‚çš„é«˜åº¦å’Œç¼–å·å­˜å…¥ä¸€ä¸ªç»“æ„ä½“ï¼Œç„¶åæ’åºï¼Œè®°å½•ä¸€ä¸‹æ¯ä¸ªåŸå¸‚æ’åºåçš„ä½ç½®ã€‚ç„¶åè¿™ä¸ªç»“æ„ä½“æ•°ç»„å¯ä»¥ç›´æ¥åŠ ä¸€ä¸ªlaståŸŸå’ŒnextåŸŸæ”¹æˆåŒå‘é“¾è¡¨ï¼Œé¢„å¤„ç†çš„æ—¶å€™ä»1åˆ°nåœ¨é“¾è¡¨ä¸Šæ‰¾åˆ°å¯¹åº”ä½ç½®pos[i]ï¼Œä¸éš¾æƒ³åˆ°ç¬¬ä¸€è¿‘å’Œç¬¬äºŒè¿‘ä¸€å®šåœ¨pos[i]-2 pos[i]-1 pos[i]+1 pos[i]+2ä¹‹é—´ï¼Œåœ¨è¿™å››ä¸ªä½ç½®ä¹‹é—´å’Œä¸Šé¢çš„æš´åŠ›æ˜¯ä¸€æ ·çš„å¤„ç†ï¼Œç„¶ååœ¨é“¾è¡¨ä¸­æŠŠpos[i]åˆ å»ï¼Œè¿™æ ·çš„è¯ç”±äº1åˆ°næ˜¯ä»è¥¿åˆ°ä¸œçš„ï¼Œé“¾è¡¨ä¸­é™¤äº†pos[i]ä»¥å¤–çš„æ‰€æœ‰åŸå¸‚éƒ½åœ¨pos[i]ä¸œè¾¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥O(N)é¢„å¤„ç†å‡ºc1 c2 dist1 dist2</p>
<p>3)å€å¢åˆå§‹åŒ–</p>
<p>ä¸‹é¢è¯´è¯´å¦‚ä½•åˆå§‹åŒ–å€å¢ä»¥åŠæ³¨æ„äº‹é¡¹</p>
<p>æˆ‘ä»¬å®šä¹‰dist3[i][j]ä¸ºaå’Œbä»iåˆ†åˆ«å¼€äº†1&lt;&lt;jæ¬¡çš„è·ç¦»ï¼Œ<br>dist4[i][j]ä¸ºaå’Œbä»iåˆ†åˆ«å¼€äº†1&lt;&lt;jæ¬¡ä»¥åaçš„æ€»è·¯ç¨‹ï¼Œdist5åŒç†ï¼Œä¸ºaå’Œbä»iåˆ†åˆ«å¼€äº†1&lt;&lt;jæ¬¡ä»¥åbçš„æ€»è·¯ç¨‹<br>c3[i][j]ä¸ºaå’Œbä»iåˆ†åˆ«å¼€äº†1&lt;&lt;jæ¬¡ä»¥åä»–ä»¬åœ¨ä»€ä¹ˆä½ç½®</p>
<p>å¯¹äºj&#x3D;0çš„æƒ…å†µæ˜¯æ˜¾ç„¶çš„</p>
<p>æ³¨æ„ä¸€ä¸‹c1å’Œc2ä¸è¦å¼„æ··äº†</p>
<p>ç„¶åæ˜¯j&gt;&#x3D;1çš„æƒ…å†µ</p>
<p>è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œjæ˜¯åœ¨å¤–å±‚çš„ï¼Œiæ˜¯åœ¨å†…å±‚çš„ï¼Œåƒä¸‡ä¸èƒ½æåäº†ï¼ˆå¯èƒ½åªæœ‰æˆ‘è¿™ç§è’Ÿè’»ä¼šçŠ¯è¿™ç§é”™ï¼‰ï¼Œå› ä¸ºè¦å…ˆå¤„ç†j-1çš„æƒ…å½¢æ‰èƒ½å¤„ç†jï¼Œå¦å¤–ï¼Œå¦‚æœc3[i][j]æ˜¯0ï¼Œè¯´æ˜ä¸èƒ½èµ°äº†ï¼Œå°±ä¸è¦å»å¤„ç†distäº†</p>
<p>ç„¶åå°±åˆå§‹åŒ–å®Œäº†</p>
<p>4)å¯¹é—®é¢˜æ±‚è§£</p>
<p>æˆ‘ä»¬å…ˆè®©aå’Œbä¸€èµ·å¼€ï¼Œé‚£ä¹ˆç”¨c3å’Œdist3å°±èƒ½å¾—åˆ°ä¸€ä¸ªè¿‘ä¼¼æœ€ç»ˆçš„æƒ…å†µï¼Œæœ€åç”±äºæ˜¯aå…ˆå¼€çš„ï¼Œè¦åˆ¤æ–­ä¸€ä¸‹aæ˜¯å¦å¯ä»¥ç»§ç»­å¼€ï¼Œå› ä¸ºä¹‹å‰æ˜¯aå¼€å®Œbä¹Ÿå¼€ï¼Œå¯èƒ½å†å¼€dist3å°±è¶…è¿‡é™åˆ¶è€Œaå†å¼€ä¸€æ¬¡å¹¶æ²¡æœ‰è¶…è¿‡é™åˆ¶ï¼Œæ‰€ä»¥è¿™ä¸ªåˆ¤æ–­æ˜¯å¿…è¦çš„ï¼Œå…¶ä½™çš„ä¸æš´åŠ›ç›¸ä¼¼</p>
<p>å¾—åˆ†ï¼š100</p>
<h3 id="é¢˜ç›®ä»£ç -2"><a href="#é¢˜ç›®ä»£ç -2" class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><p>70åˆ†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> c1[<span class="number">100005</span>], c2[<span class="number">100005</span>], n, m, h[<span class="number">100005</span>] = &#123; INT_MAX &#125;, dist1[<span class="number">100005</span>], dist2[<span class="number">100005</span>];</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_scan&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">scan</span><span class="params">(__Type_of_scan &amp;x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    __Type_of_scan f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="type">char</span> s=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(s&lt;<span class="string">&#x27;0&#x27;</span>||s&gt;<span class="string">&#x27;9&#x27;</span>)&#123;<span class="keyword">if</span>(s==<span class="string">&#x27;-&#x27;</span>)f=<span class="number">-1</span>;s=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">    <span class="keyword">while</span>(s&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;s&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">&#x27;0&#x27;</span>;s=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">    x*=f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_print&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(__Type_of_print x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;<span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);x=-x;&#125;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>)<span class="built_in">print</span>(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> minv=INT_MAX;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scan</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">scan</span>(h[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> minn=i+<span class="number">1</span>,minn2=<span class="number">0</span>;</span><br><span class="line">        dist1[i]=<span class="built_in">abs</span>(h[i]-h[i+<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(dist1[i]&gt;<span class="built_in">abs</span>(h[i]-h[j])||(dist1[i]==<span class="built_in">abs</span>(h[i]-h[j])&amp;&amp;h[j]&lt;h[minn]))</span><br><span class="line">            &#123;</span><br><span class="line">                dist2[i]=dist1[i];</span><br><span class="line">                dist1[i]=<span class="built_in">abs</span>(h[i]-h[j]);</span><br><span class="line">                minn2=minn;</span><br><span class="line">                minn=j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dist2[i]==<span class="number">0</span>||dist2[i]&gt;<span class="built_in">abs</span>(h[i]-h[j])||(dist2[i]==<span class="built_in">abs</span>(h[i]-h[j])&amp;&amp;h[j]&lt;h[minn2]))</span><br><span class="line">            &#123;</span><br><span class="line">                dist2[i]=<span class="built_in">abs</span>(h[i]-h[j]);</span><br><span class="line">                minn2=j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        c1[i]=minn;</span><br><span class="line">        c2[i]=minn2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> x0,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scan</span>(x0);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> a=<span class="number">0</span>,b=<span class="number">0</span>,loc=i,turn=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(turn)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a+b+dist1[loc]&gt;x0||!c1[loc])<span class="keyword">break</span>;</span><br><span class="line">                b+=dist1[loc];</span><br><span class="line">                loc=c1[loc];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a+b+dist2[loc]&gt;x0||!c2[loc])<span class="keyword">break</span>;</span><br><span class="line">                a+=dist2[loc];</span><br><span class="line">                loc=c2[loc];</span><br><span class="line">            &#125;</span><br><span class="line">            turn^=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!ans||<span class="number">1.0</span>*a/b-minv&lt;<span class="number">-0.00000001</span>||(<span class="built_in">fabs</span>(<span class="number">1.0</span>*a/b-minv)&lt;=<span class="number">0.00000001</span>&amp;&amp;h[ans]&lt;h[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            minv=<span class="number">1.0</span>*a/b;</span><br><span class="line">            ans=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="built_in">scan</span>(m);</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> s,x,a=<span class="number">0</span>,b=<span class="number">0</span>,turn=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scan</span>(s),<span class="built_in">scan</span>(x);</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(turn)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a+b+dist1[s]&gt;x||!c1[s])<span class="keyword">break</span>;</span><br><span class="line">                b+=dist1[s];</span><br><span class="line">                s=c1[s];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a+b+dist2[s]&gt;x||!c2[s])<span class="keyword">break</span>;</span><br><span class="line">                a+=dist2[s];</span><br><span class="line">                s=c2[s];</span><br><span class="line">            &#125;</span><br><span class="line">            turn^=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld %lld\n&quot;</span>,a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>100åˆ†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> c1[<span class="number">100005</span>],c2[<span class="number">100005</span>],c3[<span class="number">100005</span>][<span class="number">21</span>],n,m,pos[<span class="number">100005</span>],dist1[<span class="number">100005</span>],dist2[<span class="number">100005</span>],dist3[<span class="number">100005</span>][<span class="number">21</span>],dist4[<span class="number">100005</span>][<span class="number">21</span>],dist5[<span class="number">100005</span>][<span class="number">21</span>];</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_scan&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">scan</span><span class="params">(__Type_of_scan &amp;x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    __Type_of_scan f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="type">char</span> s=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(s&lt;<span class="string">&#x27;0&#x27;</span>||s&gt;<span class="string">&#x27;9&#x27;</span>)&#123;<span class="keyword">if</span>(s==<span class="string">&#x27;-&#x27;</span>)f=<span class="number">-1</span>;s=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">    <span class="keyword">while</span>(s&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;s&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">&#x27;0&#x27;</span>;s=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">    x*=f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_print&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(__Type_of_print x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;<span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);x=-x;&#125;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>)<span class="built_in">print</span>(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> minv=INT_MAX;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">chengshi</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> h;</span><br><span class="line">    <span class="type">int</span> bh,last,next;</span><br><span class="line">&#125;q[<span class="number">100005</span>];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(chengshi s,chengshi t)</span></span>&#123;<span class="keyword">return</span> s.h&lt;t.h;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">updata</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> loc,<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=<span class="number">1</span>&amp;&amp;x&lt;=n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dist1[i]||dist1[i]&gt;<span class="built_in">abs</span>(q[loc].h-q[x].h)||(dist1[i]==<span class="built_in">abs</span>(q[loc].h-q[x].h)&amp;&amp;q[x].h&lt;q[pos[c1[i]]].h))</span><br><span class="line">        &#123;</span><br><span class="line">            dist2[i]=dist1[i];</span><br><span class="line">            dist1[i]=<span class="built_in">abs</span>(q[loc].h-q[x].h);</span><br><span class="line">            c2[i]=c1[i];</span><br><span class="line">            c1[i]=q[x].bh;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!dist2[i]||dist2[i]&gt;<span class="built_in">abs</span>(q[loc].h-q[x].h)||(dist2[i]==<span class="built_in">abs</span>(q[loc].h-q[x].h)&amp;&amp;q[x].h&lt;q[pos[c2[i]]].h))</span><br><span class="line">        &#123;</span><br><span class="line">            dist2[i]=<span class="built_in">abs</span>(q[loc].h-q[x].h);</span><br><span class="line">            c2[i]=q[x].bh;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scan</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">scan</span>(q[i].h),q[i].bh=i;</span><br><span class="line">    <span class="built_in">sort</span>(q+<span class="number">1</span>,q+n+<span class="number">1</span>,cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pos[q[i].bh]=i;</span><br><span class="line">        <span class="keyword">if</span>(i!=<span class="number">1</span>)</span><br><span class="line">            q[i].last=i<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(i!=n)</span><br><span class="line">            q[i].next=i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,loc;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        loc=pos[i];</span><br><span class="line">        <span class="built_in">updata</span>(i,loc,q[q[loc].last].last);</span><br><span class="line">        <span class="built_in">updata</span>(i,loc,q[loc].last);</span><br><span class="line">        <span class="built_in">updata</span>(i,loc,q[loc].next);</span><br><span class="line">        <span class="built_in">updata</span>(i,loc,q[q[loc].next].next);</span><br><span class="line">        <span class="keyword">if</span>(q[loc].last)q[q[loc].last].next=q[loc].next;</span><br><span class="line">        <span class="keyword">if</span>(q[loc].next)q[q[loc].next].last=q[loc].last;</span><br><span class="line">        q[loc].last=q[loc].next=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dist4[i][<span class="number">0</span>]=dist2[i];</span><br><span class="line">        dist5[i][<span class="number">0</span>]=dist1[c2[i]];</span><br><span class="line">        dist3[i][<span class="number">0</span>]=dist2[i]+dist1[c2[i]];</span><br><span class="line">        c3[i][<span class="number">0</span>]=c1[c2[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">20</span>;j++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            c3[i][j]=c3[c3[i][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">if</span>(c3[i][j])</span><br><span class="line">            &#123;</span><br><span class="line">                dist3[i][j]=dist3[i][j<span class="number">-1</span>]+dist3[c3[i][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line">                dist4[i][j]=dist4[i][j<span class="number">-1</span>]+dist4[c3[i][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line">                dist5[i][j]=dist5[i][j<span class="number">-1</span>]+dist5[c3[i][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> xx,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scan</span>(xx);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> a=<span class="number">0</span>,b=<span class="number">0</span>,loc=i,x0=xx;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">20</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(dist3[loc][j]&amp;&amp;x0&gt;=dist3[loc][j])</span><br><span class="line">            &#123;</span><br><span class="line">                x0-=dist3[loc][j];</span><br><span class="line">                a+=dist4[loc][j];</span><br><span class="line">                b+=dist5[loc][j];</span><br><span class="line">                loc=c3[loc][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dist2[loc]&lt;=x0)a+=dist2[loc];</span><br><span class="line">        <span class="keyword">if</span>(a&lt;=<span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!ans||<span class="number">1.0</span>*a/b-minv&lt;<span class="number">-0.00000001</span>||(<span class="built_in">fabs</span>(<span class="number">1.0</span>*a/b-minv)&lt;=<span class="number">0.00000001</span>&amp;&amp;q[pos[ans]].h&lt;q[pos[i]].h))</span><br><span class="line">        &#123;</span><br><span class="line">            minv=<span class="number">1.0</span>*a/b;</span><br><span class="line">            ans=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="built_in">scan</span>(m);</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> s,x,a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scan</span>(x),<span class="built_in">scan</span>(x);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">20</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(dist3[s][j]&amp;&amp;x&gt;=dist3[s][j])</span><br><span class="line">            &#123;</span><br><span class="line">                x-=dist3[s][j];</span><br><span class="line">                a+=dist4[s][j];</span><br><span class="line">                b+=dist5[s][j];</span><br><span class="line">                s=c3[s][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dist2[s]&lt;=x)a+=dist2[s];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld %lld\n&quot;</span>,a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D2T1LuoguP1082-åŒä½™æ–¹ç¨‹"><a href="#D2T1LuoguP1082-åŒä½™æ–¹ç¨‹" class="headerlink" title="D2T1LuoguP1082:åŒä½™æ–¹ç¨‹"></a>D2T1<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1082">LuoguP1082</a>:åŒä½™æ–¹ç¨‹</h2><h3 id="é¢˜ç›®å¤§æ„-3"><a href="#é¢˜ç›®å¤§æ„-3" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æ±‚å…³äºxçš„åŒä½™æ–¹ç¨‹axâ‰¡1(mod b)çš„æœ€å°æ­£æ•´æ•°è§£ã€‚</p>
<h3 id="é¢˜ç›®è§£æ-3"><a href="#é¢˜ç›®è§£æ-3" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>è£¸çš„æ•°è®ºé¢˜ã€‚<br>è¦æ³¨æ„ï¼š</p>
<ol>
<li>æ­¤é¢˜è¦æ±‚çš„å°±æ˜¯ax mod b&#x3D;1çš„æœ€å°æ­£æ•´æ•°è§£ã€‚</li>
<li>é¢˜ç›®è¦æ±‚æœ€å°æ­£æ•´æ•°è§£ï¼Œè€Œæˆ‘ä»¬å¯èƒ½æ±‚åˆ°è´Ÿæ•´æ•°ã€‚ç”±äºè´Ÿæ•°å–æ¨¡æ˜¯è´Ÿæ•°ï¼Œè€Œä¸”ç»å¯¹å€¼å°äºæ¨¡æ•°æ‰€ä»¥æˆ‘ä»¬åŠ ä¸Šæ¨¡æ•°å†å–æ¨¡å³å¯ã€‚</li>
<li>é€‰ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œæ³¨æ„å†™çš„æ—¶å€™è¦ä¹ˆx,yä¼ å€è°ƒç”¨ï¼Œè¦ä¹ˆx,yä¸ºå…¨å±€å˜é‡ï¼Œå…¶ä½™ä¼šæŒ‚æ‰ã€‚</li>
</ol>
<h3 id="é¢˜ç›®ä»£ç -3"><a href="#é¢˜ç›®ä»£ç -3" class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a,b,x,y,z;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">exgcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">exgcd</span>(b,a%b);</span><br><span class="line">    z=x;x=y;</span><br><span class="line">    y=z-a/b*y;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">exgcd</span>(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,(x+b)%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D2T2LuoguP1083-å€Ÿæ•™å®¤"><a href="#D2T2LuoguP1083-å€Ÿæ•™å®¤" class="headerlink" title="D2T2LuoguP1083:å€Ÿæ•™å®¤"></a>D2T2<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1083">LuoguP1083</a>:å€Ÿæ•™å®¤</h2><h3 id="é¢˜ç›®å¤§æ„-4"><a href="#é¢˜ç›®å¤§æ„-4" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>åœ¨å¤§å­¦æœŸé—´ï¼Œç»å¸¸éœ€è¦ç§Ÿå€Ÿæ•™å®¤ã€‚å¤§åˆ°é™¢ç³»ä¸¾åŠæ´»åŠ¨ï¼Œå°åˆ°å­¦ä¹ å°ç»„è‡ªä¹ è®¨è®ºï¼Œéƒ½éœ€è¦å‘å­¦æ ¡ç”³è¯·å€Ÿæ•™å®¤ã€‚æ•™å®¤çš„å¤§å°åŠŸèƒ½ä¸åŒï¼Œå€Ÿæ•™å®¤äººçš„èº«ä»½ä¸åŒï¼Œå€Ÿæ•™å®¤çš„æ‰‹ç»­ä¹Ÿä¸ä¸€æ ·ã€‚</p>
<p>é¢å¯¹æµ·é‡ç§Ÿå€Ÿæ•™å®¤çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬è‡ªç„¶å¸Œæœ›ç¼–ç¨‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å¤„ç†æ¥ä¸‹æ¥nå¤©çš„å€Ÿæ•™å®¤ä¿¡æ¯ï¼Œå…¶ä¸­ç¬¬iå¤©å­¦æ ¡æœ‰riä¸ªæ•™å®¤å¯ä¾›ç§Ÿå€Ÿã€‚å…±æœ‰mä»½è®¢å•ï¼Œæ¯ä»½è®¢å•ç”¨ä¸‰ä¸ªæ­£æ•´æ•°æè¿°ï¼Œåˆ†åˆ«ä¸ºdj,sj,tjï¼Œè¡¨ç¤ºæŸç§Ÿå€Ÿè€…éœ€è¦ä»ç¬¬sjå¤©åˆ°ç¬¬tjå¤©ç§Ÿå€Ÿæ•™å®¤ï¼ˆåŒ…æ‹¬ç¬¬sjå¤©å’Œç¬¬tjå¤©ï¼‰ï¼Œæ¯å¤©éœ€è¦ç§Ÿå€Ÿdjä¸ªæ•™å®¤ã€‚</p>
<p>æˆ‘ä»¬å‡å®šï¼Œç§Ÿå€Ÿè€…å¯¹æ•™å®¤çš„å¤§å°ã€åœ°ç‚¹æ²¡æœ‰è¦æ±‚ã€‚å³å¯¹äºæ¯ä»½è®¢å•ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯å¤©æä¾›djä¸ªæ•™å®¤ï¼Œè€Œå®ƒä»¬å…·ä½“æ˜¯å“ªäº›æ•™å®¤ï¼Œæ¯å¤©æ˜¯å¦æ˜¯ç›¸åŒçš„æ•™å®¤åˆ™ä¸ç”¨è€ƒè™‘ã€‚</p>
<p>å€Ÿæ•™å®¤çš„åŸåˆ™æ˜¯å…ˆåˆ°å…ˆå¾—ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦æŒ‰ç…§è®¢å•çš„å…ˆåé¡ºåºä¾æ¬¡ä¸ºæ¯ä»½è®¢å•åˆ†é…æ•™å®¤ã€‚å¦‚æœåœ¨åˆ†é…çš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä»½è®¢å•æ— æ³•å®Œå…¨æ»¡è¶³ï¼Œåˆ™éœ€è¦åœæ­¢æ•™å®¤çš„åˆ†é…ï¼Œé€šçŸ¥å½“å‰ç”³è¯·äººä¿®æ”¹è®¢å•ã€‚è¿™é‡Œçš„æ— æ³•æ»¡è¶³æŒ‡ä»ç¬¬sjå¤©åˆ°ç¬¬tjå¤©ä¸­æœ‰è‡³å°‘ä¸€å¤©å‰©ä½™çš„æ•™å®¤æ•°é‡ä¸è¶³djä¸ªã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œæ˜¯å¦ä¼šæœ‰è®¢å•æ— æ³•å®Œå…¨æ»¡è¶³ã€‚å¦‚æœæœ‰ï¼Œéœ€è¦é€šçŸ¥å“ªä¸€ä¸ªç”³è¯·äººä¿®æ”¹è®¢å•ã€‚</p>
<h3 id="é¢˜ç›®è§£æ-4"><a href="#é¢˜ç›®è§£æ-4" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>äºŒåˆ†è®¢å•å·å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œä½†æ˜¯å¦‚ä½•checkï¼Ÿ</p>
<p>çº¿æ®µæ ‘æ˜¯å¯ä»¥çš„ï¼ˆä½†æ˜¯æ­¤æ—¶ä½ å·²æ˜¾ç„¶ä¸ç”¨å†å†™äºŒåˆ†ï¼‰</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨å‰ç¼€å’Œï¼Œç”¨c[]ä½œä¸ºå‰ç¼€å’Œæ•°ç»„ï¼Œå¯¹äºä¸€ä¸ªd[i],s[i],t[i],åˆ™å°†c[s[i]]+&#x3D;d[i],c[t[i]+1]-&#x3D;d[i]ï¼Œ<br>è¿™æ˜¯åœ¨ä¸€ä¸ªè®¢å•çš„èµ·å§‹å¤©+è¦å€Ÿçš„æˆ¿é—´æ•°é‡ï¼Œåœ¨ç»“æŸå¤©çš„ä¸‹ä¸€å¤©å‡å»è¦å€Ÿçš„æˆ¿é—´æ•°é‡ã€‚</p>
<p>å½“æˆ‘ä»¬è¯»å…¥d,s,tï¼Œåˆ™æ“ä½œc[s]&#x3D;c[s]+d;c[t+1]&#x3D;c[t+1]-d;<br>é‚£ä¹ˆå¦‚æœç¬¬iå¤©åœ¨så’Œtä¹‹é—´ï¼Œé‚£ä¹ˆå‰iå¤©çš„sum{c[i]}ä¸­æœ‰c[s],ç›¸å½“äºå·²ç»è®°ä¸‹ç¬¬iå¤©çš„è®¢å•æ•°é‡äº†ã€‚å¦‚æœç¬¬iå¤©åœ¨tä¹‹åï¼Œå‰iå¤©çš„sum{c[i]}ä¸­æœ‰c[s]å’Œc[t],å› ä¸ºc[s]+d+c[t+1]-d&#x3D;c[s]+c[t]ï¼Œæ‰€ä»¥è¿™ä¸ªè®¢å•åªå¯¹så’Œtä¸­é—´å¤©æ•°èµ·ä½œç”¨ã€‚</p>
<h3 id="é¢˜ç›®ä»£ç -4"><a href="#é¢˜ç›®ä»£ç -4" class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,ans=<span class="number">20020420</span>;</span><br><span class="line"><span class="type">int</span> r[<span class="number">1000005</span>],c[<span class="number">1000005</span>],now;</span><br><span class="line"><span class="type">int</span> d[<span class="number">1000005</span>],s[<span class="number">1000005</span>],t[<span class="number">1000005</span>];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(now&gt;x) </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=x+<span class="number">1</span>;i&lt;=now;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            c[s[i]]-=d[i];</span><br><span class="line">            c[t[i]+<span class="number">1</span>]+=d[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=now+<span class="number">1</span>;i&lt;=x;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            c[s[i]]+=d[i];</span><br><span class="line">            c[t[i]+<span class="number">1</span>]-=d[i];</span><br><span class="line">        &#125;</span><br><span class="line">    now=x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum+=c[i];</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;r[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;r[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;d[i],&amp;s[i],&amp;t[i]);</span><br><span class="line">    <span class="type">int</span> lt=<span class="number">1</span>,rt=m;</span><br><span class="line">    <span class="keyword">while</span>(lt&lt;=rt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=(lt+rt)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid))</span><br><span class="line">        &#123;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,mid);</span><br><span class="line">            rt=mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            lt=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans!=<span class="number">20020420</span>) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;-1\n%d\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D2T3LuoguP1084-ç–«æƒ…æ§åˆ¶"><a href="#D2T3LuoguP1084-ç–«æƒ…æ§åˆ¶" class="headerlink" title="D2T3LuoguP1084:ç–«æƒ…æ§åˆ¶"></a>D2T3<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P1084">LuoguP1084</a>:ç–«æƒ…æ§åˆ¶</h2><h3 id="é¢˜ç›®å¤§æ„-5"><a href="#é¢˜ç›®å¤§æ„-5" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>Hå›½æœ‰nä¸ªåŸå¸‚ï¼Œè¿™nä¸ªåŸå¸‚ç”¨nâˆ’1æ¡åŒå‘é“è·¯ç›¸äº’è¿é€šæ„æˆä¸€æ£µæ ‘ï¼Œ1å·åŸå¸‚æ˜¯é¦–éƒ½ï¼Œä¹Ÿæ˜¯æ ‘ä¸­çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<p>Hå›½çš„é¦–éƒ½çˆ†å‘äº†ä¸€ç§å±å®³æ€§æé«˜çš„ä¼ æŸ“ç—…ã€‚å½“å±€ä¸ºäº†æ§åˆ¶ç–«æƒ…ï¼Œä¸è®©ç–«æƒ…æ‰©æ•£åˆ°è¾¹å¢ƒåŸå¸‚ï¼ˆå¶å­èŠ‚ç‚¹æ‰€è¡¨ç¤ºçš„åŸå¸‚ï¼‰ï¼Œå†³å®šåŠ¨ç”¨å†›é˜Ÿåœ¨ä¸€äº›åŸå¸‚å»ºç«‹æ£€æŸ¥ç‚¹ï¼Œä½¿å¾—ä»é¦–éƒ½åˆ°è¾¹å¢ƒåŸå¸‚çš„æ¯ä¸€æ¡è·¯å¾„ä¸Šéƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ£€æŸ¥ç‚¹ï¼Œè¾¹å¢ƒåŸå¸‚ä¹Ÿå¯ä»¥å»ºç«‹æ£€æŸ¥ç‚¹ã€‚ä½†ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œé¦–éƒ½æ˜¯ä¸èƒ½å»ºç«‹æ£€æŸ¥ç‚¹çš„ã€‚</p>
<p>ç°åœ¨ï¼Œåœ¨Hå›½çš„ä¸€äº›åŸå¸‚ä¸­å·²ç»é©»æ‰æœ‰å†›é˜Ÿï¼Œä¸”ä¸€ä¸ªåŸå¸‚å¯ä»¥é©»æ‰å¤šä¸ªå†›é˜Ÿã€‚ä¸€æ”¯å†›é˜Ÿå¯ä»¥åœ¨æœ‰é“è·¯è¿æ¥çš„åŸå¸‚é—´ç§»åŠ¨ï¼Œå¹¶åœ¨é™¤é¦–éƒ½ä»¥å¤–çš„ä»»æ„ä¸€ä¸ªåŸå¸‚å»ºç«‹æ£€æŸ¥ç‚¹ï¼Œä¸”åªèƒ½åœ¨ä¸€ä¸ªåŸå¸‚å»ºç«‹æ£€æŸ¥ç‚¹ã€‚ä¸€æ”¯å†›é˜Ÿç»è¿‡ä¸€æ¡é“è·¯ä»ä¸€ä¸ªåŸå¸‚ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåŸå¸‚æ‰€éœ€è¦çš„æ—¶é—´ç­‰äºé“è·¯çš„é•¿åº¦ï¼ˆå•ä½ï¼šå°æ—¶ï¼‰ã€‚</p>
<p>è¯·é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªå°æ—¶æ‰èƒ½æ§åˆ¶ç–«æƒ…ã€‚æ³¨æ„ï¼šä¸åŒçš„å†›é˜Ÿå¯ä»¥åŒæ—¶ç§»åŠ¨ã€‚</p>
<h3 id="é¢˜ç›®è§£æ-5"><a href="#é¢˜ç›®è§£æ-5" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h3><p>å…ˆè¯´è¾“å‡º-1çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å†›é˜Ÿæ•°å°äºæ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°æ—¶æ— æ³•å®Œæˆæ§åˆ¶ï¼Œè¾“å‡º-1</p>
<p>æ¥ä¸‹æ¥ï¼Œå¯¹äºæ±‚æœ€å°æ—¶é—´å°±æƒ³åˆ°äº†å¯ä»¥äºŒåˆ†ç­”æ¡ˆã€‚äºŒåˆ†é™åˆ¶çš„æ—¶é—´tï¼Œçœ‹æ˜¯å¦æ‰€æœ‰å†›é˜Ÿæ˜¯å¦èƒ½åœ¨tæ—¶é—´å†…å®Œæˆç§»åŠ¨ã€‚</p>
<p>é‚£ä¹ˆæ—¶å€™æ¶‰åŠåˆ°æ ‘ä¸Šç§»åŠ¨ï¼Œä¸ºäº†ä¸è¶…æ—¶ï¼Œæˆ‘ä»¬æ˜¾ç„¶éœ€è¦å€å¢æ¥çˆ¬æ ‘ã€‚</p>
<p>å‰©ä¸‹çš„å°±æ˜¯æ€ä¹ˆåˆ¤æ–­èƒ½å¦åœ¨tæ—¶é—´å†…å®Œæˆç§»åŠ¨äº†ï¼Œè¿™é“é¢˜ä¸»è¦å°±æ˜¯è¿™é‡Œçƒ¦äºº</p>
<p>å¾ˆæ˜¾ç„¶çš„å¯ä»¥æƒ³åˆ°ï¼Œæ‰€æœ‰å†›é˜Ÿéƒ½è¦å°½é‡å¾€ä¸Šçˆ¬ï¼Œå› ä¸ºè¶Šå¾€ä¸Šï¼Œèƒ½æ§åˆ¶çš„èŠ‚ç‚¹å°±è¶Šå¤šã€‚</p>
<p>ä¸»è¦é—®é¢˜åœ¨äºï¼Œè¦ä¸è¦è·¨å­æ ‘ã€‚</p>
<p>é‚£ä¹ˆå¯¹äºæ‰€æœ‰èƒ½çˆ¬åˆ°æ ¹èŠ‚ç‚¹çš„å†›é˜Ÿï¼Œæˆ‘ä»¬è®°ä¸‹ä»–å‰©ä¸‹çš„æ—¶é—´å’ŒåŸå…ˆçˆ¬ä¸Šæ¥çš„å­æ ‘ã€‚å¦‚æœè¿™ä¸ªå†›é˜Ÿæ‰€åœ¨çš„å­æ ‘å¹¶æ²¡æœ‰è¢«æ§åˆ¶ï¼Œå¹¶ä¸”ä»–å‰©ä½™æ—¶é—´ä¸å¤Ÿä»–å›åˆ°åŸæ¥çš„å­æ ‘ï¼Œé‚£ä»–å°±æ ¹æœ¬ä¸ç”¨çˆ¬åˆ°æ ¹èŠ‚ç‚¹ï¼Œè®©ä»–å›å»æ§åˆ¶åŸæ¥çš„å­æ ‘å°±å¯ä»¥äº†ã€‚å› ä¸ºå¦‚æœä»–ä¸å›å»ï¼Œå¿…ç„¶éœ€è¦å¦ä¸€ä¸ªåˆ°è¾¾æ ¹èŠ‚ç‚¹å¹¶ä¸”å‰©ä½™æ—¶é—´å¤§äºä»æ ¹èŠ‚ç‚¹åˆ°ä»–åŸæ¥çš„å­æ ‘è·ç¦»çš„å†›é˜Ÿæ¥ä»£æ›¿ä»–æ§åˆ¶é‚£é¢—å­æ ‘ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯äºçš„ï¼Œå› ä¸ºå½“å‰å†›é˜Ÿçš„å‰©ä½™æ—¶é—´å°äºå­æ ‘åˆ°æ ¹èŠ‚ç‚¹è·ç¦»ï¼Œä¹Ÿå°±æ˜¯å°äºèƒ½ä»£æ›¿ä»–æ§åˆ¶å­æ ‘çš„å†›é˜Ÿçš„å‰©ä½™æ—¶é—´ã€‚è®©ä¸€ä¸ªå‰©ä½™æ—¶é—´å¤§äºå½“å‰å†›é˜Ÿçš„å†›é˜Ÿä»£æ›¿å½“å‰å†›é˜Ÿæ§åˆ¶å½“å‰å­æ ‘æ˜¾ç„¶ä¸åˆç†ã€‚</p>
<p>ä¸Šè¿°æƒ…å†µæ˜¯è¦å›å»æ»´</p>
<p>æ€ä¹ˆå†™å‘¢ï¼ŸæŠŠçˆ¬åˆ°æ ¹èŠ‚ç‚¹çš„å†›é˜ŸæŒ‰ç…§å‰©ä½™æ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œç„¶åå¯¹äºæ»¡è¶³ä¸Šè¿°æƒ…å†µçš„ç‚¹ï¼ŒæŠŠä»–åŸå…ˆæ‰€åœ¨çš„å­æ ‘åšæ ‡è®°ï¼Œå¹¶æŠŠå‰©ä½™æ—¶é—´èµ‹ä¸º-1å³å¯ã€‚è‡³äºä¸ºä»€ä¹ˆè¦ä»å°åˆ°å¤§æ’åºï¼šå½“ä¸¤ä¸ªç‚¹åŸå…ˆçš„å­æ ‘ä¸ºåŒä¸€æ£µçš„æƒ…å†µä¸‹ï¼Œå½“ç„¶è®©å‰©ä½™æ—¶é—´å°çš„é‚£ä¸ªå»æ§åˆ¶åŸæ¥é‚£æ£µå­æ ‘å•¦ï¼Œå¤§çš„é‚£ä¸ªåæ‰«åˆ°ï¼Œæ­¤æ—¶åŸæ¥çš„å­æ ‘å·²ç»è¢«å°çš„å†›é˜Ÿæ§åˆ¶äº†ï¼Œä»–å°±ä¸ç”¨å›å»äº†ã€‚</p>
<p>é‚£ä¹ˆå¯¹äºä»ç„¶è¿˜å‘†åœ¨æ ¹èŠ‚ç‚¹ç­‰ä½ å®‰æ’çš„å†›é˜Ÿï¼ŒæŠŠä»–ä»¬æŒ‰ç…§å‰©ä½™æ—¶é—´ä»å¤§åˆ°å°æ’åºã€‚ç„¶åè®°å½•ä¸€ä¸‹æ ¹èŠ‚ç‚¹åˆ°æ‰€æœ‰æ²¡æœ‰è¢«æ§åˆ¶çš„å­æ ‘çš„è·ç¦»ï¼Œä¹Ÿä»å¤§åˆ°å°æ’åºã€‚ç„¶åï¼Œè´ªå¿ƒæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸€ä¸ªæ¯”ï¼Œç¬¬äºŒä¸ªå’Œç¬¬äºŒä¸ªæ¯”â€¦â€¦æ¯”åˆ°ä¸€ä¸ªå‰©ä½™æ—¶é—´å°äºå½“å‰è®°å½•ä¸‹çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯è¿‡ä¸å»äº†ï¼Œé‚£ä¹ˆå½“å‰çš„é™åˆ¶æ—¶é—´tåå°ï¼Œå¤±è´¥ã€‚å¦‚æœå…¨éƒ¨æ¯”å®Œäº†ï¼Œéƒ½èƒ½å¤Ÿèµ°åˆ°ï¼Œé‚£ä¹ˆå½“å‰tå¯ä»¥æˆåŠŸæ§åˆ¶ç–«æƒ…ã€‚</p>
<h3 id="é¢˜ç›®ä»£ç -5"><a href="#é¢˜ç›®ä»£ç -5" class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,cnt;</span><br><span class="line"><span class="type">int</span> d[<span class="number">50005</span>],head[<span class="number">100005</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">50005</span>],f[<span class="number">25</span>][<span class="number">50005</span>],dis[<span class="number">25</span>][<span class="number">50005</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> tag[<span class="number">50005</span>],rst[<span class="number">50005</span>],q[<span class="number">50005</span>],top[<span class="number">50005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ne,to,w;</span><br><span class="line">&#125;e[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">army</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> rst,bac;</span><br><span class="line">&#125;arr[<span class="number">50005</span>];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp1</span><span class="params">(army x,army y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.rst&lt;y.rst;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp2</span><span class="params">(army x,army y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.rst&gt;y.rst;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addedge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[++cnt]=(edge)&#123;head[x],y,z&#125;;head[x]=cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> dep,<span class="type">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    d[u]=dep,top[u]=t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i;i=e[i].ne)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v=e[i].to;</span><br><span class="line">        <span class="keyword">if</span>(u==<span class="number">1</span>) t=v;</span><br><span class="line">        <span class="keyword">if</span>(!d[v])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">dfs</span>(v,dep+<span class="number">1</span>,t);</span><br><span class="line">            f[<span class="number">0</span>][v]=u;</span><br><span class="line">            dis[<span class="number">0</span>][v]=e[i].w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">can</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> fa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tag[x])<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=head[x];i;i=e[i].ne)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(e[i].to==fa)<span class="keyword">continue</span>;</span><br><span class="line">        res++;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">can</span>(e[i].to,x))<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!res)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">long</span> <span class="type">long</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> num=<span class="number">0</span>,k=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(tag,<span class="number">0</span>,<span class="built_in">sizeof</span>(tag));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123; </span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> x=a[i],tmp=t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">20</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!f[j][x])<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(dis[j][x]&gt;tmp)<span class="keyword">continue</span>;</span><br><span class="line">            tmp-=dis[j][x];</span><br><span class="line">            <span class="keyword">if</span>(f[j][x]==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[++num].rst=tmp,arr[num].bac=top[x];</span><br><span class="line">                x=f[j][x];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x=f[j][x];</span><br><span class="line">        &#125;</span><br><span class="line">        tag[x]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    tag[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">can</span>(<span class="number">1</span>,<span class="number">1</span>)) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">sort</span>(arr+<span class="number">1</span>,arr+num+<span class="number">1</span>,cmp1);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=num;i++)</span><br><span class="line">        <span class="keyword">if</span>(arr[i].rst&lt;dis[<span class="number">0</span>][arr[i].bac])</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">can</span>(arr[i].bac,<span class="number">1</span>)) arr[i].rst=<span class="number">-1</span>,tag[arr[i].bac]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">sort</span>(arr+<span class="number">1</span>,arr+num+<span class="number">1</span>,cmp2);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=head[<span class="number">1</span>];i;i=e[i].to)</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">can</span>(e[i].to,<span class="number">1</span>))q[++k]=e[i].w;</span><br><span class="line">    <span class="built_in">sort</span>(q+<span class="number">1</span>,q+k+<span class="number">1</span>,cmp);</span><br><span class="line">    arr[num+<span class="number">1</span>].rst=<span class="number">-0x7fffffff</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">        <span class="keyword">if</span>(q[i]&gt;arr[i].rst) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> l=<span class="number">0</span>,r=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="type">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y,z;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;x,&amp;y,&amp;z);</span><br><span class="line">        <span class="built_in">addedge</span>(x,y,z);</span><br><span class="line">        <span class="built_in">addedge</span>(y,x,z);</span><br><span class="line">        r+=z;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">1</span>||y==<span class="number">1</span>) tmp++;</span><br><span class="line">    &#125;</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">1</span>]=<span class="number">0</span>,<span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j]=f[i<span class="number">-1</span>][f[i<span class="number">-1</span>][j]];</span><br><span class="line">            dis[i][j]=dis[i<span class="number">-1</span>][j]+dis[i<span class="number">-1</span>][f[i<span class="number">-1</span>][j]];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="keyword">if</span>(tmp&gt;m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r=mid;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="NOIp2013"><a href="#NOIp2013" class="headerlink" title="NOIp2013"></a>NOIp2013</h1><p>Link to Curry0420ï¼ˆææ˜è¾¾ï¼‰</p>
<h1 id="NOIp2014"><a href="#NOIp2014" class="headerlink" title="NOIp2014"></a>NOIp2014</h1><p>Link to czj666ï¼ˆé™ˆå­éªï¼‰</p>
<h1 id="NOIp2015"><a href="#NOIp2015" class="headerlink" title="NOIp2015"></a>NOIp2015</h1><p>Link to cs18ï¼ˆå­™é”¦æ´‹ï¼‰</p>
<h1 id="NOIp2016"><a href="#NOIp2016" class="headerlink" title="NOIp2016"></a>NOIp2016</h1><p>Link to Bei_Sï¼ˆç‹å­éªï¼‰</p>
<h1 id="NOIp2017"><a href="#NOIp2017" class="headerlink" title="NOIp2017"></a>NOIp2017</h1><p>Link to Steven7ï¼ˆå°šå…ƒç¿ï¼‰</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></section>
    
    
        <em class="post-meta-item-text">å½“å‰é¡µå…±æœ‰<span class="waline-pageview-count" data-path="/blog/noip-summary/"></span>æ¬¡é˜…è¯»ï¼Œ<span class="waline-comment-count" data-path="/blog/noip-summary/"></span>æ¡è¯„è®ºã€‚</em>
    
    
    <!-- Tags START -->
    
      <div class="tags">
        
        
          <span>æ ‡ç­¾:</span>
          
  <a href="/tags#ä¸çŸ¥é“ä»€ä¹ˆä¸œè¥¿" >
    <span class="tag-code">ä¸çŸ¥é“ä»€ä¹ˆä¸œè¥¿</span>
  </a>

        
      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/blog/compositor-sequence/">
        <span class="nav-arrow">â† </span>
        
          æ’åº
        
      </a>
    
    
      <a class="nav-right" href="/blog/Solution/solution-u19727/">
        
          é¢˜è§£ U19727 ã€PPæ¸¸æˆ#1 å½©ç¯æ¸¸æˆï¼ˆColor Rings Gameï¼‰ã€‘
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
      <div class="money-like">
        <div class="reward-btn">
          èµ
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨æ”¯ä»˜å®æ‰“èµ</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨å¾®ä¿¡æ‰“èµ</b>
            </span>
          </span>
        </div>
        <p class="notice">è‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ</p>
      </div>
    
    <!-- æ‰“èµ END -->
    <!-- åˆ†äº« START -->
    
    <!-- åˆ†äº« END -->
    <!-- äºŒç»´ç  START -->
    
    <!-- äºŒç»´ç  END -->
    
        <!-- Waline START -->
        <div id="waline"></div>
        <!-- Waline END -->
    
    </article>
    <!-- Article END -->
    <!-- Catalog START -->
    
        <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">ç›®å½•</strong>
    
      
        <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2011"><span class="toc-nav-text">NOIp2011</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2012"><span class="toc-nav-text">NOIp2012</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D1T1LuoguP1079-Vigenere-%E5%AF%86%E7%A0%81"><span class="toc-nav-text">D1T1LuoguP1079:VigenÃ¨re å¯†ç </span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D1T2LuoguP1080-%E5%9B%BD%E7%8E%8B%E6%B8%B8%E6%88%8F"><span class="toc-nav-text">D1T2LuoguP1080:å›½ç‹æ¸¸æˆ</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-1"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-1"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81-1"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D1T3LuoguP1081-%E5%BC%80%E8%BD%A6%E6%97%85%E8%A1%8C"><span class="toc-nav-text">D1T3LuoguP1081:å¼€è½¦æ—…è¡Œ</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-2"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-2"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81-2"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D2T1LuoguP1082-%E5%90%8C%E4%BD%99%E6%96%B9%E7%A8%8B"><span class="toc-nav-text">D2T1LuoguP1082:åŒä½™æ–¹ç¨‹</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-3"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-3"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81-3"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D2T2LuoguP1083-%E5%80%9F%E6%95%99%E5%AE%A4"><span class="toc-nav-text">D2T2LuoguP1083:å€Ÿæ•™å®¤</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-4"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-4"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81-4"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#D2T3LuoguP1084-%E7%96%AB%E6%83%85%E6%8E%A7%E5%88%B6"><span class="toc-nav-text">D2T3LuoguP1084:ç–«æƒ…æ§åˆ¶</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-5"><span class="toc-nav-text">é¢˜ç›®å¤§æ„</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-5"><span class="toc-nav-text">é¢˜ç›®è§£æ</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E4%BB%A3%E7%A0%81-5"><span class="toc-nav-text">é¢˜ç›®ä»£ç </span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2013"><span class="toc-nav-text">NOIp2013</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2014"><span class="toc-nav-text">NOIp2014</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2015"><span class="toc-nav-text">NOIp2015</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2016"><span class="toc-nav-text">NOIp2016</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#NOIp2017"><span class="toc-nav-text">NOIp2017</span></a></li></ol>
      
    
  </div>
</aside>
    
    <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://www.gh.zhangkai.xin/blog/noip-summary/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', '/css/images/error_icon.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== '/css/images/error_icon.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()
        
        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
})();
</script>



<script>
    Waline.init({
        el: '#waline',
        serverURL: "https://api.www.zhangkai.xin",
        comment: true,
        dark: false,
        meta: ['nick', 'mail', 'link'],
        requiredMeta: ['nick', 'mail'],
        login: 'force',
        wordLimit: 0,
        pageSize: 10,
        copyright: false,
        pageview: true,
        lang: 'zh-CN',
        emoji: [
            '//unpkg.com/@waline/emojis@1.0.1/weibo',
            '//unpkg.com/@waline/emojis@1.0.1/bilibili',
            '//unpkg.com/@waline/emojis@1.0.1/qq',
            '//unpkg.com/@waline/emojis@1.0.1/tieba',
            '//unpkg.com/@waline/emojis@1.0.1/alus',
            '//unpkg.com/@waline/emojis@1.0.1/tw-emoji',
        ]
    });
</script>








    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    åšå®¢éå¸¸è‡ªè±ªåœ°ä½¿ç”¨äº†<a href="https://hexo.io" target="_blank"> Hexo </a>ç”Ÿæˆ | ä¸»é¢˜æ˜¯<a href="https://github.com/yanm1ng/hexo-theme-vexo" target="_blank"> Vexo </a>
    <br>
    ä¸»é¢˜ä½œè€…ä¸º<a target="_blank" rel="noopener" href="https://github.com/yanm1ng"> yanm1ng </a> | ç»è¿‡<a target="_blank" rel="noopener" href="https://github.com/WilliamPeterMatthew"> WilliamPeterMatthew </a>ä¿®æ”¹
    <br>
    ä½¿ç”¨ CC BY-NC-SA 4.0 è®¸å¯ | &copy; 2018 - 2024 å¼ å¼€æ˜• ç‰ˆæƒæ‰€æœ‰
    <br>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener nofollow"><img src="/pic/beian/icpå¤‡æ¡ˆ.png" width="18" height="18"> è±«ICPå¤‡20022692å·-1</a> | <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41030502000313" target="_blank" rel="noopener nofollow"><img src="/pic/beian/å…¬å®‰å¤‡æ¡ˆ.png" width="18" height="18"> è±«å…¬ç½‘å®‰å¤‡ 41030502000313å·</a>
    <br>
    <br>
    <a href="/NSP-IS-PRC.html" target="_self" rel="noopener nofollow">ä¸­åäººæ°‘å…±å’Œå›½å›½å®¶ä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤ç¬¬ä¸€çº§ï¼ˆè‡ªä¸»ä¿æŠ¤çº§ï¼‰</a>
    <br>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("/js/fastclick/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("/js/highlight.js/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>



<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>